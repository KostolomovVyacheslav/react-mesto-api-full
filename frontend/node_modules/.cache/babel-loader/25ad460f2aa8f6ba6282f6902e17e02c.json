{"ast":null,"code":"import _slicedToArray from\"D:/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState,useEffect}from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import PopupWithForm from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var currentUser=useContext(CurrentUserContext);var _useState=useState(currentUser.name),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(currentUser.about),_useState4=_slicedToArray(_useState3,2),userDescription=_useState4[0],setUserDescription=_useState4[1];var buttonText=\"\".concat(props.renderLoading?'Сохранение...':'Сохранить');useEffect(function(){setUserName(currentUser.name);setUserDescription(currentUser.about);},[props.isOpen]);var handleChangeName=function handleChangeName(evt){setUserName(evt.target.value);};var handleChangeDescription=function handleChangeDescription(evt){setUserDescription(evt.target.value);};var handleSubmit=function handleSubmit(evt){evt.preventDefault();props.onUpdateUser({name:userName,about:userDescription});};return/*#__PURE__*/_jsxs(PopupWithForm,{isOpen:props.isOpen,onClose:props.onClose,onSubmit:handleSubmit,title:'Редактировать профиль',name:'edit-form',formId:'#edit-form',buttonId:'#profile-form-save-button',buttonText:buttonText,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_name\",name:\"inputUserName\",type:\"text\",value:userName||'',onChange:handleChangeName,placeholder:\"\\u041A\\u0430\\u043A \\u0412\\u0430\\u0441 \\u0437\\u043E\\u0432\\u0443\\u0442?\",minLength:\"2\",maxLength:\"40\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error\"}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_job\",name:\"inputUserJob\",type:\"text\",value:userDescription||'',onChange:handleChangeDescription,placeholder:\"\\u0420\\u0430\\u0441\\u0441\\u043A\\u0430\\u0436\\u0438\\u0442\\u0435 \\u043E \\u0441\\u0435\\u0431\\u0435...\",minLength:\"2\",maxLength:\"200\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error\"})]});}export default EditProfilePopup;","map":{"version":3,"names":["useContext","useState","useEffect","CurrentUserContext","PopupWithForm","EditProfilePopup","props","currentUser","name","userName","setUserName","about","userDescription","setUserDescription","buttonText","renderLoading","isOpen","handleChangeName","evt","target","value","handleChangeDescription","handleSubmit","preventDefault","onUpdateUser","onClose"],"sources":["D:/dev/react-mesto-api-full/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import { useContext, useState, useEffect } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup(props) {\r\n   \r\n   const currentUser = useContext(CurrentUserContext);\r\n   const [userName, setUserName] = useState(currentUser.name);\r\n   const [userDescription, setUserDescription] = useState(currentUser.about);\r\n\r\n   const buttonText = `${props.renderLoading ? 'Сохранение...' : 'Сохранить'}`;\r\n\r\n   useEffect(() => {\r\n      setUserName(currentUser.name);\r\n      setUserDescription(currentUser.about);\r\n   }, [props.isOpen]);\r\n\r\n   const handleChangeName = (evt) => {\r\n      setUserName(evt.target.value);\r\n   };\r\n\r\n   const handleChangeDescription = (evt) => {\r\n      setUserDescription(evt.target.value);\r\n   };\r\n\r\n   const handleSubmit = (evt) => {\r\n      evt.preventDefault();\r\n\r\n      props.onUpdateUser({\r\n         name: userName,\r\n         about: userDescription,\r\n       });\r\n   };\r\n\r\n   return(\r\n      <PopupWithForm\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        title={'Редактировать профиль'}\r\n        name={'edit-form'}\r\n        formId={'#edit-form'}\r\n        buttonId={'#profile-form-save-button'}\r\n        buttonText={buttonText}\r\n      >\r\n         <input className=\"popup__input popup__input_name\" name=\"inputUserName\" type=\"text\" value={userName || ''} onChange={handleChangeName} placeholder=\"Как Вас зовут?\" minLength=\"2\" maxLength=\"40\" required />\r\n         <span className=\"popup__input-error\"></span>\r\n         <input className=\"popup__input popup__input_job\" name=\"inputUserJob\" type=\"text\" value={userDescription || ''} onChange={handleChangeDescription} placeholder=\"Расскажите о себе...\" minLength=\"2\" maxLength=\"200\" required />\r\n         <span className=\"popup__input-error\"></span>\r\n      </PopupWithForm>\r\n   )\r\n}\r\n\r\nexport default EditProfilePopup;"],"mappings":"0HAAA,OAASA,UAAT,CAAqBC,QAArB,CAA+BC,SAA/B,KAAgD,OAAhD,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA,MAAOC,cAAP,KAA0B,iBAA1B,C,wFAEA,QAASC,iBAAT,CAA0BC,KAA1B,CAAiC,CAE9B,GAAMC,YAAW,CAAGP,UAAU,CAACG,kBAAD,CAA9B,CACA,cAAgCF,QAAQ,CAACM,WAAW,CAACC,IAAb,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eACA,eAA8CT,QAAQ,CAACM,WAAW,CAACI,KAAb,CAAtD,yCAAOC,eAAP,eAAwBC,kBAAxB,eAEA,GAAMC,WAAU,WAAMR,KAAK,CAACS,aAAN,CAAsB,eAAtB,CAAwC,WAA9C,CAAhB,CAEAb,SAAS,CAAC,UAAM,CACbQ,WAAW,CAACH,WAAW,CAACC,IAAb,CAAX,CACAK,kBAAkB,CAACN,WAAW,CAACI,KAAb,CAAlB,CACF,CAHQ,CAGN,CAACL,KAAK,CAACU,MAAP,CAHM,CAAT,CAKA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,GAAD,CAAS,CAC/BR,WAAW,CAACQ,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAX,CACF,CAFD,CAIA,GAAMC,wBAAuB,CAAG,QAA1BA,wBAA0B,CAACH,GAAD,CAAS,CACtCL,kBAAkB,CAACK,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAlB,CACF,CAFD,CAIA,GAAME,aAAY,CAAG,QAAfA,aAAe,CAACJ,GAAD,CAAS,CAC3BA,GAAG,CAACK,cAAJ,GAEAjB,KAAK,CAACkB,YAAN,CAAmB,CAChBhB,IAAI,CAAEC,QADU,CAEhBE,KAAK,CAAEC,eAFS,CAAnB,EAIF,CAPD,CASA,mBACG,MAAC,aAAD,EACE,MAAM,CAAEN,KAAK,CAACU,MADhB,CAEE,OAAO,CAAEV,KAAK,CAACmB,OAFjB,CAGE,QAAQ,CAAEH,YAHZ,CAIE,KAAK,CAAE,uBAJT,CAKE,IAAI,CAAE,WALR,CAME,MAAM,CAAE,YANV,CAOE,QAAQ,CAAE,2BAPZ,CAQE,UAAU,CAAER,UARd,wBAUG,cAAO,SAAS,CAAC,gCAAjB,CAAkD,IAAI,CAAC,eAAvD,CAAuE,IAAI,CAAC,MAA5E,CAAmF,KAAK,CAAEL,QAAQ,EAAI,EAAtG,CAA0G,QAAQ,CAAEQ,gBAApH,CAAsI,WAAW,CAAC,uEAAlJ,CAAmK,SAAS,CAAC,GAA7K,CAAiL,SAAS,CAAC,IAA3L,CAAgM,QAAQ,KAAxM,EAVH,cAWG,aAAM,SAAS,CAAC,oBAAhB,EAXH,cAYG,cAAO,SAAS,CAAC,+BAAjB,CAAiD,IAAI,CAAC,cAAtD,CAAqE,IAAI,CAAC,MAA1E,CAAiF,KAAK,CAAEL,eAAe,EAAI,EAA3G,CAA+G,QAAQ,CAAES,uBAAzH,CAAkJ,WAAW,CAAC,iGAA9J,CAAqL,SAAS,CAAC,GAA/L,CAAmM,SAAS,CAAC,KAA7M,CAAmN,QAAQ,KAA3N,EAZH,cAaG,aAAM,SAAS,CAAC,oBAAhB,EAbH,GADH,CAiBF,CAED,cAAehB,iBAAf"},"metadata":{},"sourceType":"module"}